{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/priyanshkakkad/Downloads/investment-platform-design/app/admin/dashboard/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useSession } from \"next-auth/react\"\nimport { useRouter } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { useEffect, useState } from \"react\"\n\nexport default function AdminDashboard() {\n  const { data: session, status } = useSession()\n  const router = useRouter()\n  const [stats, setStats] = useState<{\n    users: { total: number }\n    businesses: { total: number; pending: number; approved: number; rejected: number }\n    investments: { total: number }\n  } | null>(null)\n  const [loadingStats, setLoadingStats] = useState(true)\n\n  useEffect(() => {\n    if (status === \"unauthenticated\") {\n      router.push(\"/login\")\n    }\n  }, [status, router])\n\n  useEffect(() => {\n    const fetchStats = async () => {\n      try {\n        const res = await fetch(\"/api/admin/stats\")\n        if (res.ok) {\n          const data = await res.json()\n          setStats(data.data)\n        }\n      } catch (e) {\n        // ignore\n      } finally {\n        setLoadingStats(false)\n      }\n    }\n    if (status === \"authenticated\") fetchStats()\n  }, [status])\n\n  if (status === \"loading\") {\n    return <div className=\"min-h-screen flex items-center justify-center\">Loading...</div>\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white border-b border-gray-200 sticky top-0 z-50\">\n        <div className=\"max-w-7xl mx-auto px-4 py-4 flex justify-between items-center\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">Admin Dashboard</h1>\n          <button\n            onClick={() => router.push(\"/api/auth/signout\")}\n            className=\"text-sm text-gray-600 hover:text-gray-900\"\n          >\n            Sign Out\n          </button>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 py-8\">\n        {/* Welcome Section */}\n        <div className=\"bg-white rounded-lg shadow-sm p-8 mb-8\">\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Welcome back, {session?.user?.name}</h2>\n          <p className=\"text-gray-600\">Manage businesses, users, and investments from your admin panel.</p>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\n            <p className=\"text-sm text-gray-600\">Total Users</p>\n            <p className=\"text-3xl font-bold text-gray-900 mt-2\">{loadingStats ? \"—\" : stats?.users.total ?? 0}</p>\n          </div>\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\n            <p className=\"text-sm text-gray-600\">Businesses</p>\n            <p className=\"text-3xl font-bold text-gray-900 mt-2\">{loadingStats ? \"—\" : stats?.businesses.total ?? 0}</p>\n            <div className=\"mt-3 text-xs text-gray-600 flex gap-3\">\n              <span>Pending: {loadingStats ? \"—\" : stats?.businesses.pending ?? 0}</span>\n              <span>Approved: {loadingStats ? \"—\" : stats?.businesses.approved ?? 0}</span>\n              <span>Rejected: {loadingStats ? \"—\" : stats?.businesses.rejected ?? 0}</span>\n            </div>\n          </div>\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\n            <p className=\"text-sm text-gray-600\">Total Investments</p>\n            <p className=\"text-3xl font-bold text-gray-900 mt-2\">{loadingStats ? \"—\" : stats?.investments.total ?? 0}</p>\n          </div>\n        </div>\n\n        {/* Quick Links Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {/* Users Management */}\n          <Link href=\"/admin/users\">\n            <div className=\"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow cursor-pointer\">\n              <div className=\"bg-blue-100 w-12 h-12 rounded-lg flex items-center justify-center mb-4\">\n                <svg className=\"w-6 h-6 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M12 12a5 5 0 100-10 5 5 0 000 10z\" />\n                  <path d=\"M2 21c0-2.5 4-5 10-5s10 2.5 10 5\" />\n                </svg>\n              </div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Users</h3>\n              <p className=\"text-sm text-gray-600\">Create and manage user accounts</p>\n            </div>\n          </Link>\n\n          {/* Businesses Approval */}\n          <Link href=\"/admin/businesses\">\n            <div className=\"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow cursor-pointer\">\n              <div className=\"bg-green-100 w-12 h-12 rounded-lg flex items-center justify-center mb-4\">\n                <svg className=\"w-6 h-6 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M13 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V9z\" />\n                </svg>\n              </div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Businesses</h3>\n              <p className=\"text-sm text-gray-600\">Review and approve business listings</p>\n            </div>\n          </Link>\n\n          {/* Visibility Control */}\n          <Link href=\"/admin/visibility\">\n            <div className=\"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow cursor-pointer\">\n              <div className=\"bg-purple-100 w-12 h-12 rounded-lg flex items-center justify-center mb-4\">\n                <svg className=\"w-6 h-6 text-purple-600\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                  <path d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                </svg>\n              </div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Visibility</h3>\n              <p className=\"text-sm text-gray-600\">Assign businesses to investors</p>\n            </div>\n          </Link>\n\n          {/* Investments */}\n          <Link href=\"/admin/investments\">\n            <div className=\"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow cursor-pointer\">\n              <div className=\"bg-yellow-100 w-12 h-12 rounded-lg flex items-center justify-center mb-4\">\n                <svg className=\"w-6 h-6 text-yellow-600\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z\" />\n                </svg>\n              </div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Investments</h3>\n              <p className=\"text-sm text-gray-600\">Track all investments</p>\n            </div>\n          </Link>\n        </div>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}
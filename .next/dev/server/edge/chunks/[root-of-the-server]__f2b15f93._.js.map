{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { withAuth } from \"next-auth/middleware\"\nimport type { NextRequest } from \"next/server\"\n\nexport const middleware = withAuth(\n  function middleware(request: NextRequest) {\n    const token = request.nextauth.token\n    const pathname = request.nextUrl.pathname\n\n    // Role-based route protection\n    if (pathname.startsWith(\"/admin\")) {\n      if (token?.role !== \"admin\") {\n        return Response.redirect(new URL(\"/dashboard\", request.url))\n      }\n    }\n\n    if (pathname.startsWith(\"/owner\")) {\n      if (token?.role !== \"business_owner\") {\n        return Response.redirect(new URL(\"/dashboard\", request.url))\n      }\n    }\n\n    if (pathname.startsWith(\"/investor\")) {\n      if (token?.role !== \"investor\") {\n        return Response.redirect(new URL(\"/dashboard\", request.url))\n      }\n    }\n\n    return undefined\n  },\n  {\n    callbacks: {\n      authorized: ({ token, req }) => {\n        // Routes that require authentication\n        const protectedRoutes = [\"/admin\", \"/owner\", \"/investor\", \"/dashboard\"]\n        const isProtectedRoute = protectedRoutes.some((route) => req.nextUrl.pathname.startsWith(route))\n\n        if (isProtectedRoute) {\n          return !!token\n        }\n\n        return true\n      },\n    },\n  },\n)\n\nexport const config = {\n  matcher: [\n    \"/admin/:path*\",\n    \"/owner/:path*\",\n    \"/investor/:path*\",\n    \"/dashboard/:path*\",\n    \"/api/admin/:path*\",\n    \"/api/owner/:path*\",\n    \"/api/investor/:path*\",\n  ],\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAGO,MAAM,aAAa,IAAA,gXAAQ,EAChC,SAAS,WAAW,OAAoB;IACtC,MAAM,QAAQ,QAAQ,QAAQ,CAAC,KAAK;IACpC,MAAM,WAAW,QAAQ,OAAO,CAAC,QAAQ;IAEzC,8BAA8B;IAC9B,IAAI,SAAS,UAAU,CAAC,WAAW;QACjC,IAAI,OAAO,SAAS,SAAS;YAC3B,OAAO,SAAS,QAAQ,CAAC,IAAI,IAAI,cAAc,QAAQ,GAAG;QAC5D;IACF;IAEA,IAAI,SAAS,UAAU,CAAC,WAAW;QACjC,IAAI,OAAO,SAAS,kBAAkB;YACpC,OAAO,SAAS,QAAQ,CAAC,IAAI,IAAI,cAAc,QAAQ,GAAG;QAC5D;IACF;IAEA,IAAI,SAAS,UAAU,CAAC,cAAc;QACpC,IAAI,OAAO,SAAS,YAAY;YAC9B,OAAO,SAAS,QAAQ,CAAC,IAAI,IAAI,cAAc,QAAQ,GAAG;QAC5D;IACF;IAEA,OAAO;AACT,GACA;IACE,WAAW;QACT,YAAY,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE;YACzB,qCAAqC;YACrC,MAAM,kBAAkB;gBAAC;gBAAU;gBAAU;gBAAa;aAAa;YACvE,MAAM,mBAAmB,gBAAgB,IAAI,CAAC,CAAC,QAAU,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;YAEzF,IAAI,kBAAkB;gBACpB,OAAO,CAAC,CAAC;YACX;YAEA,OAAO;QACT;IACF;AACF;AAGK,MAAM,SAAS;IACpB,SAAS;QACP;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH"}}]
}
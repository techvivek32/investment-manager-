{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/priyanshkakkad/Downloads/investment-platform-design/app/investor/businesses/%5Bid%5D/chat/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { useParams } from \"next/navigation\"\n\ninterface Message {\n  _id: string\n  senderId: string\n  receiverId: string\n  body: string\n  createdAt: string\n}\n\nexport default function InvestorChatPage() {\n  const params = useParams()\n  const businessId = params.id as string\n  const [messages, setMessages] = useState<Message[]>([])\n  const [text, setText] = useState(\"\")\n\n  const fetchMessages = async () => {\n    const res = await fetch(`/api/messages?businessId=${businessId}`)\n    if (res.ok) {\n      const data = await res.json()\n      setMessages(data.data)\n    }\n  }\n\n  useEffect(() => {\n    fetchMessages()\n  }, [businessId])\n\n  const send = async () => {\n    if (!text.trim()) return\n    const res = await fetch(`/api/messages`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ businessId, receiverId: \"owner\", body: text }),\n    })\n    if (res.ok) {\n      setText(\"\")\n      fetchMessages()\n    }\n  }\n\n  return (\n    <div className=\"max-w-3xl mx-auto px-4 py-8\">\n      <h1 className=\"text-xl font-semibold mb-4\">Messages</h1>\n      <div className=\"border rounded-lg p-4 bg-white space-y-3\">\n        {messages.length === 0 ? (\n          <p className=\"text-gray-600\">No messages yet</p>\n        ) : (\n          messages.map((m) => (\n            <div key={m._id} className=\"text-sm\">\n              <span className=\"text-gray-500\">{new Date(m.createdAt).toLocaleString()}: </span>\n              <span className=\"text-gray-900\">{m.body}</span>\n            </div>\n          ))\n        )}\n      </div>\n      <div className=\"mt-4 flex gap-2\">\n        <input\n          value={text}\n          onChange={(e) => setText(e.target.value)}\n          placeholder=\"Type a message\"\n          className=\"flex-1 border rounded-lg px-3 py-2\"\n        />\n        <button onClick={send} className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg\">\n          Send\n        </button>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAae,SAAS;IACtB,MAAM,SAAS,IAAA,8QAAS;IACxB,MAAM,aAAa,OAAO,EAAE;IAC5B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gVAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gVAAQ,EAAC;IAEjC,MAAM,gBAAgB;QACpB,MAAM,MAAM,MAAM,MAAM,CAAC,yBAAyB,EAAE,YAAY;QAChE,IAAI,IAAI,EAAE,EAAE;YACV,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,YAAY,KAAK,IAAI;QACvB;IACF;IAEA,IAAA,iVAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAW;IAEf,MAAM,OAAO;QACX,IAAI,CAAC,KAAK,IAAI,IAAI;QAClB,MAAM,MAAM,MAAM,MAAM,CAAC,aAAa,CAAC,EAAE;YACvC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAY,YAAY;gBAAS,MAAM;YAAK;QACrE;QACA,IAAI,IAAI,EAAE,EAAE;YACV,QAAQ;YACR;QACF;IACF;IAEA,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAC3C,6WAAC;gBAAI,WAAU;0BACZ,SAAS,MAAM,KAAK,kBACnB,6WAAC;oBAAE,WAAU;8BAAgB;;;;;2BAE7B,SAAS,GAAG,CAAC,CAAC,kBACZ,6WAAC;wBAAgB,WAAU;;0CACzB,6WAAC;gCAAK,WAAU;;oCAAiB,IAAI,KAAK,EAAE,SAAS,EAAE,cAAc;oCAAG;;;;;;;0CACxE,6WAAC;gCAAK,WAAU;0CAAiB,EAAE,IAAI;;;;;;;uBAF/B,EAAE,GAAG;;;;;;;;;;0BAOrB,6WAAC;gBAAI,WAAU;;kCACb,6WAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wBACvC,aAAY;wBACZ,WAAU;;;;;;kCAEZ,6WAAC;wBAAO,SAAS;wBAAM,WAAU;kCAAgE;;;;;;;;;;;;;;;;;;AAMzG"}}]
}
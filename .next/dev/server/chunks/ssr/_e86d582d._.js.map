{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/priyanshkakkad/Downloads/investment-platform-design/components/map.tsx"],"sourcesContent":["'use client'\n\nimport type React from 'react'\n\ninterface MapProps {\n  latitude: number\n  longitude: number\n  zoom?: number\n  height?: number\n}\n\nexport default function Map({ latitude, longitude, zoom = 15, height = 280 }: MapProps) {\n  const delta = 0.01\n  const left = longitude - delta\n  const right = longitude + delta\n  const top = latitude + delta\n  const bottom = latitude - delta\n  const src = `https://www.openstreetmap.org/export/embed.html?bbox=${left}%2C${bottom}%2C${right}%2C${top}&layer=mapnik&marker=${latitude}%2C${longitude}`\n  const link = `https://www.openstreetmap.org/?mlat=${latitude}&mlon=${longitude}#map=${zoom}/${latitude}/${longitude}`\n  return (\n    <div className=\"border border-gray-200 rounded-lg overflow-hidden\">\n      <iframe\n        title=\"location-map\"\n        width=\"100%\"\n        height={height}\n        frameBorder=\"0\"\n        scrolling=\"no\"\n        src={src}\n      />\n      <div className=\"p-2 text-xs text-gray-500 bg-gray-50\">\n        <a href={link} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-600\">View Larger Map</a>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAAA;;AAWe,SAAS,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,EAAE,EAAE,SAAS,GAAG,EAAY;IACpF,MAAM,QAAQ;IACd,MAAM,OAAO,YAAY;IACzB,MAAM,QAAQ,YAAY;IAC1B,MAAM,MAAM,WAAW;IACvB,MAAM,SAAS,WAAW;IAC1B,MAAM,MAAM,CAAC,qDAAqD,EAAE,KAAK,GAAG,EAAE,OAAO,GAAG,EAAE,MAAM,GAAG,EAAE,IAAI,qBAAqB,EAAE,SAAS,GAAG,EAAE,WAAW;IACzJ,MAAM,OAAO,CAAC,oCAAoC,EAAE,SAAS,MAAM,EAAE,UAAU,KAAK,EAAE,KAAK,CAAC,EAAE,SAAS,CAAC,EAAE,WAAW;IACrH,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC;gBACC,OAAM;gBACN,OAAM;gBACN,QAAQ;gBACR,aAAY;gBACZ,WAAU;gBACV,KAAK;;;;;;0BAEP,6WAAC;gBAAI,WAAU;0BACb,cAAA,6WAAC;oBAAE,MAAM;oBAAM,QAAO;oBAAS,KAAI;oBAAsB,WAAU;8BAAgB;;;;;;;;;;;;;;;;;AAI3F"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/priyanshkakkad/Downloads/investment-platform-design/app/owner/businesses/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useEffect, useState } from \"react\"\nimport Link from \"next/link\"\nimport Map from \"@/components/map\"\nimport { useRouter, useParams } from \"next/navigation\"\n\ninterface Document {\n  _id: string\n  fileName: string\n  fileUrl: string\n  documentType: string\n  uploadedAt: string\n}\n\ninterface Business {\n  _id: string\n  name: string\n  description: string\n  category: string\n  status: \"pending\" | \"approved\" | \"rejected\"\n  latitude: number\n  longitude: number\n  minInvestmentAmount: number\n  maxInvestmentAmount: number\n  expectedReturnPercentage?: number\n  documents: Document[]\n  createdAt: string\n}\n\nexport default function OwnerBusinessDetailPage() {\n  const router = useRouter()\n  const params = useParams()\n  const businessId = params.id as string\n\n  const [business, setBusiness] = useState<Business | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [documentFile, setDocumentFile] = useState<File | null>(null)\n  const [documentType, setDocumentType] = useState(\"\")\n  const [uploading, setUploading] = useState(false)\n\n  useEffect(() => {\n    fetchBusiness()\n  }, [businessId])\n\n  const fetchBusiness = async () => {\n    try {\n      const response = await fetch(`/api/businesses/${businessId}`)\n      if (response.ok) {\n        const data = await response.json()\n        setBusiness(data.data)\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch business:\", error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleDocumentUpload = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!documentFile) return\n\n    setUploading(true)\n    try {\n      const formData = new FormData()\n      formData.append(\"file\", documentFile)\n       formData.append(\"documentType\", documentType)\n\n      const response = await fetch(`/api/businesses/${businessId}/documents`, {\n        method: \"POST\",\n        body: formData,\n      })\n\n      if (response.ok) {\n        setDocumentFile(null)\n        setDocumentType(\"\")\n        fetchBusiness()\n      }\n    } catch (error) {\n      console.error(\"Failed to upload document:\", error)\n    } finally {\n      setUploading(false)\n    }\n  }\n\n  const handleDeleteDocument = async (docId: string) => {\n    if (!confirm(\"Are you sure you want to delete this document?\")) return\n    \n    try {\n      const response = await fetch(`/api/businesses/${businessId}/documents/${docId}`, {\n        method: \"DELETE\",\n      })\n      if (response.ok) fetchBusiness()\n    } catch (error) {\n      console.error(\"Failed to delete document:\", error)\n    }\n  }\n\n  if (loading) {\n    return <div className=\"min-h-screen flex items-center justify-center\">Loading...</div>\n  }\n\n  if (!business) {\n    return <div className=\"min-h-screen flex items-center justify-center\">Business not found</div>\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <header className=\"bg-card border-b border-border sticky top-0 z-50 backdrop-blur-sm bg-card/95\">\n        <div className=\"max-w-4xl mx-auto px-6 py-4\">\n          <Link href=\"/owner/dashboard\" className=\"text-primary hover:text-primary/80 text-sm mb-2 inline-flex items-center gap-1\">\n            ← Back\n          </Link>\n          <h1 className=\"text-2xl font-bold text-foreground mt-2\">{business.name}</h1>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-4xl mx-auto px-6 py-8 space-y-8\">\n        {/* Status */}\n        <div className=\"bg-card border border-border rounded-xl p-6\">\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <h2 className=\"text-lg font-semibold text-foreground mb-2\">Status</h2>\n              <span\n                className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium capitalize ${\n                  business.status === \"approved\"\n                    ? \"bg-chart-3/20 text-chart-3\"\n                    : business.status === \"rejected\"\n                      ? \"bg-destructive/20 text-destructive\"\n                      : \"bg-chart-4/20 text-chart-4\"\n                }`}\n              >\n                {business.status}\n              </span>\n            </div>\n            {business.status !== \"approved\" && (\n              <Link\n                href={`/owner/businesses/${businessId}/edit`}\n                className=\"bg-primary hover:bg-primary/90 text-primary-foreground font-medium py-2 px-4 rounded-lg shadow-lg shadow-primary/20 transition-all\"\n              >\n                Edit\n              </Link>\n            )}\n          </div>\n        </div>\n\n        {/* Details */}\n        <div className=\"bg-card border border-border rounded-xl p-6\">\n          <h2 className=\"text-lg font-semibold text-foreground mb-4\">Business Details</h2>\n          <div className=\"grid grid-cols-2 gap-6\">\n            <div>\n              <p className=\"text-sm text-muted-foreground mb-1\">Description</p>\n              <p className=\"text-foreground\">{business.description}</p>\n            </div>\n            <div>\n              <p className=\"text-sm text-muted-foreground mb-1\">Category</p>\n              <p className=\"text-foreground\">{business.category || \"N/A\"}</p>\n            </div>\n            <div>\n              <p className=\"text-sm text-muted-foreground mb-1\">Min Investment</p>\n              <p className=\"text-foreground font-medium\">${business.minInvestmentAmount.toLocaleString()}</p>\n            </div>\n            <div>\n              <p className=\"text-sm text-muted-foreground mb-1\">Max Investment</p>\n              <p className=\"text-foreground font-medium\">${business.maxInvestmentAmount.toLocaleString()}</p>\n            </div>\n          </div>\n          <div className=\"mt-6\">\n            <p className=\"text-sm text-muted-foreground mb-2\">Location</p>\n            <div className=\"text-muted-foreground mb-4 text-sm\">Latitude: {business.latitude}, Longitude: {business.longitude}</div>\n            <div className=\"rounded-lg overflow-hidden border border-border\">\n              <Map latitude={business.latitude} longitude={business.longitude} />\n            </div>\n          </div>\n        </div>\n\n        {/* Documents Upload */}\n        <div className=\"bg-card border border-border rounded-xl p-6\">\n          <h2 className=\"text-lg font-semibold text-foreground mb-4\">Documents</h2>\n\n          {/* Upload Form */}\n          <form onSubmit={handleDocumentUpload} className=\"mb-6 p-4 border border-border rounded-lg bg-accent/20\">\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-2\">File</label>\n                <input\n                  type=\"file\"\n                  onChange={(e) => setDocumentFile(e.target.files?.[0] || null)}\n                  className=\"w-full px-3 py-2 border border-input rounded-lg bg-background text-foreground file:mr-4 file:py-1 file:px-3 file:rounded file:border-0 file:bg-primary file:text-primary-foreground file:cursor-pointer\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-foreground mb-2\">Document Type</label>\n                <input\n                  type=\"text\"\n                  value={documentType}\n                  onChange={(e) => setDocumentType(e.target.value)}\n                  placeholder=\"e.g., License, Registration, Proof\"\n                  className=\"w-full px-3 py-2 border border-input rounded-lg bg-background text-foreground\"\n                />\n              </div>\n              <div className=\"flex items-end\">\n                <button\n                  type=\"submit\"\n                  disabled={!documentFile || !documentType.trim() || uploading}\n                  className=\"w-full bg-primary hover:bg-primary/90 disabled:opacity-50 text-primary-foreground font-medium py-2 px-4 rounded-lg shadow-lg shadow-primary/20 transition-all\"\n                >\n                  {uploading ? \"Uploading...\" : \"Upload\"}\n                </button>\n              </div>\n            </div>\n          </form>\n\n          {/* Documents List */}\n          {business.documents.length === 0 ? (\n            <p className=\"text-muted-foreground\">No documents uploaded yet</p>\n          ) : (\n            <div className=\"space-y-3\">\n              {business.documents.map((doc, index) => (\n                <div key={doc._id || index} className=\"flex items-center justify-between p-4 border border-border rounded-lg hover:bg-accent/50 transition-colors\">\n                  <div className=\"flex-1\">\n                    <p className=\"font-medium text-foreground\">{doc.fileName}</p>\n                    <div className=\"flex items-center gap-3 mt-1\">\n                      <p className=\"text-sm text-muted-foreground capitalize\">{doc.documentType}</p>\n                      {doc.uploadedAt && (\n                        <>\n                          <span className=\"text-muted-foreground\">•</span>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {new Date(doc.uploadedAt).toLocaleDateString()} {new Date(doc.uploadedAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                          </p>\n                        </>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <a\n                      href={doc.fileUrl}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"text-primary hover:text-primary/80 font-medium text-sm px-3 py-1.5 rounded-lg hover:bg-primary/10 transition-colors\"\n                    >\n                      View\n                    </a>\n                    <button\n                      onClick={() => handleDeleteDocument(doc._id)}\n                      className=\"text-destructive hover:text-destructive/80 font-medium text-sm px-3 py-1.5 rounded-lg hover:bg-destructive/10 transition-colors\"\n                    >\n                      Remove\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}
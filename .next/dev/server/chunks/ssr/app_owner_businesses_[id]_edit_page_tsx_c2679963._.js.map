{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/priyanshkakkad/Downloads/investment-platform-design/app/owner/businesses/%5Bid%5D/edit/page.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useEffect, useState } from \"react\"\nimport Link from \"next/link\"\nimport { useRouter, useParams } from \"next/navigation\"\n\ninterface Business {\n  _id: string\n  name: string\n  description: string\n  category: string\n  latitude: number\n  longitude: number\n  minInvestmentAmount: number\n  maxInvestmentAmount: number\n  expectedReturnPercentage?: number\n  status: string\n}\n\nexport default function EditBusinessPage() {\n  const router = useRouter()\n  const params = useParams()\n  const businessId = params.id as string\n\n  const [business, setBusiness] = useState<Business | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [saving, setSaving] = useState(false)\n  const [error, setError] = useState(\"\")\n  const [formData, setFormData] = useState<Partial<Business>>({})\n\n  useEffect(() => {\n    fetchBusiness()\n  }, [businessId])\n\n  const fetchBusiness = async () => {\n    try {\n      const response = await fetch(`/api/businesses/${businessId}`)\n      if (response.ok) {\n        const data = await response.json()\n        setBusiness(data.data)\n        setFormData(data.data)\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch business:\", error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = e.target\n    setFormData((prev) => ({\n      ...prev,\n      [name]:\n        name.includes(\"Amount\") ||\n        name.includes(\"Percentage\") ||\n        name.includes(\"latitude\") ||\n        name.includes(\"longitude\")\n          ? Number.parseFloat(value)\n          : value,\n    }))\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError(\"\")\n    setSaving(true)\n\n    try {\n      const response = await fetch(`/api/businesses/${businessId}`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(formData),\n      })\n\n      if (response.ok) {\n        router.push(`/owner/businesses/${businessId}`)\n      } else {\n        const data = await response.json()\n        setError(data.error || \"Failed to update business\")\n      }\n    } catch (err) {\n      setError(\"An error occurred\")\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  if (loading) {\n    return <div className=\"min-h-screen flex items-center justify-center\">Loading...</div>\n  }\n\n  if (!business) {\n    return <div className=\"min-h-screen flex items-center justify-center\">Business not found</div>\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <header className=\"bg-card border-b border-border sticky top-0 z-50 backdrop-blur-sm bg-card/95\">\n        <div className=\"max-w-4xl mx-auto px-6 py-4\">\n          <Link\n            href={`/owner/businesses/${businessId}`}\n            className=\"text-primary hover:text-primary/80 text-sm mb-2 inline-flex items-center gap-1\"\n          >\n            ‚Üê Back\n          </Link>\n          <h1 className=\"text-2xl font-bold text-foreground mt-2\">Edit Business</h1>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-4xl mx-auto px-6 py-8\">\n        <div className=\"bg-card border border-border rounded-xl p-8\">\n          {business.status === \"approved\" && (\n            <div className=\"bg-primary/10 border border-primary/20 text-primary px-4 py-3 rounded-lg text-sm mb-6\">\n              This business has been approved and cannot be edited.\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit} className=\"space-y-6\" disabled={business.status === \"approved\"}>\n            {/* Business Name */}\n            <div>\n              <label htmlFor=\"name\" className=\"block text-sm font-medium text-foreground mb-2\">\n                Business Name\n              </label>\n              <input\n                id=\"name\"\n                type=\"text\"\n                name=\"name\"\n                value={formData.name || \"\"}\n                onChange={handleChange}\n                className=\"w-full px-4 py-2 border border-input rounded-lg focus:ring-2 focus:ring-ring bg-background text-foreground placeholder:text-muted-foreground disabled:opacity-50\"\n                disabled={business.status === \"approved\"}\n              />\n            </div>\n\n            {/* Description */}\n            <div>\n              <label htmlFor=\"description\" className=\"block text-sm font-medium text-foreground mb-2\">\n                Description\n              </label>\n              <textarea\n                id=\"description\"\n                name=\"description\"\n                value={formData.description || \"\"}\n                onChange={handleChange}\n                rows={4}\n                className=\"w-full px-4 py-2 border border-input rounded-lg focus:ring-2 focus:ring-ring bg-background text-foreground placeholder:text-muted-foreground disabled:opacity-50\"\n                disabled={business.status === \"approved\"}\n              />\n            </div>\n\n            {/* Category */}\n            <div>\n              <label htmlFor=\"category\" className=\"block text-sm font-medium text-foreground mb-2\">\n                Category\n              </label>\n              <input\n                id=\"category\"\n                type=\"text\"\n                name=\"category\"\n                value={formData.category || \"\"}\n                onChange={handleChange}\n                className=\"w-full px-4 py-2 border border-input rounded-lg focus:ring-2 focus:ring-ring bg-background text-foreground placeholder:text-muted-foreground disabled:opacity-50\"\n                disabled={business.status === \"approved\"}\n              />\n            </div>\n\n            {/* Location */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label htmlFor=\"latitude\" className=\"block text-sm font-medium text-foreground mb-2\">\n                  Latitude\n                </label>\n                <input\n                  id=\"latitude\"\n                  type=\"number\"\n                  name=\"latitude\"\n                  value={formData.latitude || \"\"}\n                  onChange={handleChange}\n                  step=\"0.0001\"\n                  className=\"w-full px-4 py-2 border border-input rounded-lg focus:ring-2 focus:ring-ring bg-background text-foreground placeholder:text-muted-foreground disabled:opacity-50\"\n                  disabled={business.status === \"approved\"}\n                />\n              </div>\n              <div>\n                <label htmlFor=\"longitude\" className=\"block text-sm font-medium text-foreground mb-2\">\n                  Longitude\n                </label>\n                <input\n                  id=\"longitude\"\n                  type=\"number\"\n                  name=\"longitude\"\n                  value={formData.longitude || \"\"}\n                  onChange={handleChange}\n                  step=\"0.0001\"\n                  className=\"w-full px-4 py-2 border border-input rounded-lg focus:ring-2 focus:ring-ring bg-background text-foreground placeholder:text-muted-foreground disabled:opacity-50\"\n                  disabled={business.status === \"approved\"}\n                />\n              </div>\n            </div>\n\n            {/* Investment Amounts */}\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label htmlFor=\"minInvestmentAmount\" className=\"block text-sm font-medium text-foreground mb-2\">\n                  Min Investment Amount\n                </label>\n                <input\n                  id=\"minInvestmentAmount\"\n                  type=\"number\"\n                  name=\"minInvestmentAmount\"\n                  value={formData.minInvestmentAmount || \"\"}\n                  onChange={handleChange}\n                  step=\"0.01\"\n                  className=\"w-full px-4 py-2 border border-input rounded-lg focus:ring-2 focus:ring-ring bg-background text-foreground placeholder:text-muted-foreground disabled:opacity-50\"\n                  disabled={business.status === \"approved\"}\n                />\n              </div>\n              <div>\n                <label htmlFor=\"maxInvestmentAmount\" className=\"block text-sm font-medium text-foreground mb-2\">\n                  Max Investment Amount\n                </label>\n                <input\n                  id=\"maxInvestmentAmount\"\n                  type=\"number\"\n                  name=\"maxInvestmentAmount\"\n                  value={formData.maxInvestmentAmount || \"\"}\n                  onChange={handleChange}\n                  step=\"0.01\"\n                  className=\"w-full px-4 py-2 border border-input rounded-lg focus:ring-2 focus:ring-ring bg-background text-foreground placeholder:text-muted-foreground disabled:opacity-50\"\n                  disabled={business.status === \"approved\"}\n                />\n              </div>\n            </div>\n\n            {/* Expected Return */}\n            <div>\n              <label htmlFor=\"expectedReturnPercentage\" className=\"block text-sm font-medium text-foreground mb-2\">\n                Expected Return Percentage\n              </label>\n              <input\n                id=\"expectedReturnPercentage\"\n                type=\"number\"\n                name=\"expectedReturnPercentage\"\n                value={formData.expectedReturnPercentage || \"\"}\n                onChange={handleChange}\n                step=\"0.1\"\n                className=\"w-full px-4 py-2 border border-input rounded-lg focus:ring-2 focus:ring-ring bg-background text-foreground placeholder:text-muted-foreground disabled:opacity-50\"\n                disabled={business.status === \"approved\"}\n              />\n            </div>\n\n            {error && <div className=\"bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-lg\">{error}</div>}\n\n            {/* Buttons */}\n            <div className=\"flex gap-4 pt-4\">\n              <button\n                type=\"submit\"\n                disabled={saving || business.status === \"approved\"}\n                className=\"flex-1 bg-primary hover:bg-primary/90 disabled:opacity-50 text-primary-foreground font-medium py-2.5 px-4 rounded-lg shadow-lg shadow-primary/20 transition-all\"\n              >\n                {saving ? \"Saving...\" : \"Save Changes\"}\n              </button>\n              <Link\n                href={`/owner/businesses/${businessId}`}\n                className=\"flex-1 bg-secondary hover:bg-secondary/80 text-secondary-foreground font-medium py-2.5 px-4 rounded-lg transition-all text-center\"\n              >\n                Cancel\n              </Link>\n            </div>\n          </form>\n        </div>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}